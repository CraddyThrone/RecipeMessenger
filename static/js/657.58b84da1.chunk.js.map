{"version":3,"file":"static/js/657.58b84da1.chunk.js","mappings":"kLAEA,MASA,EATgBA,KACdC,EAAAA,EAAAA,MAAA,OAAKC,MAAM,6BAA6BC,QAAQ,YAAYC,MAAO,GAAIC,OAAQ,GAAIC,MAAO,UAAWC,KAAM,OAAOC,SAAA,EAChHC,EAAAA,EAAAA,KAAA,QAAMC,EAAE,mPAAmPC,OAAO,eAAeC,YAAY,SAC7RH,EAAAA,EAAAA,KAAA,QAAMC,EAAE,uQAAuQC,OAAO,eAAeC,YAAY,SACjTH,EAAAA,EAAAA,KAAA,QAAMC,EAAE,gJAAgJC,OAAO,eAAeC,YAAY,MAAMC,eAAe,WAC/MJ,EAAAA,EAAAA,KAAA,QAAMC,EAAE,qBAAqBC,OAAO,eAAeC,YAAY,IAAIE,cAAc,QAAQD,eAAe,a,aCG7F,SAASE,IAEtB,MAAMC,GAAiBC,EAAAA,EAAAA,QAAO,MACxBC,GAAUD,EAAAA,EAAAA,QAAO,MAEjBE,GAAYF,EAAAA,EAAAA,QAAO,MACnBG,GAAWH,EAAAA,EAAAA,QAAO,MAClBI,GAAkBJ,EAAAA,EAAAA,QAAO,MACzBK,GAAkBL,EAAAA,EAAAA,QAAO,MACzBM,GAAaN,EAAAA,EAAAA,QAAO,MACpBO,GAAuBP,EAAAA,EAAAA,QAAO,MAEpC,IAAKQ,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,GAC3C,MAAMC,GAAcC,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,OAGzCC,GAAWH,EAAAA,EAAAA,KAAYC,GAASA,EAAMG,gBACtCC,GAAWC,EAAAA,EAAAA,OAEVC,EAAkBC,IAAuBV,EAAAA,EAAAA,UAAS,OAClDW,EAAcC,IAAmBZ,EAAAA,EAAAA,UAAS,OAEjDa,EAAAA,EAAAA,YAAU,KAGR,GAAIR,EAAU,CACZhB,EAAeyB,QAAQC,UAAUC,IAAI,4BACrCzB,EAAQuB,QAAQC,UAAUC,IAAI,oBAC9BC,SAASC,cAAc,QAAQC,MAAMC,SAAW,SAChD,MAAMC,EAAOJ,SAASK,iBAAiB,uBACvC,IAAK,IAAIC,EAAI,EAAGA,GAAKF,EAAKG,OAAQD,IAChC,IACEF,EAAKE,GAAGR,UAAUU,OAAO,8BAC3B,CAAE,MAAQ,CAEZJ,EAAKvB,GAAYiB,UAAUC,IAAI,8BACjC,KAYF,IAAIU,EAAe,yBA+EnB,SAASC,IAEP,OACE7C,EAAAA,EAAAA,KAAA,YAAU8C,IAAKjC,EAAiBkC,UAAU,oBAAoBC,YAAaC,EAAAA,EAAM9B,GAAa+B,kBAAmBC,OAAQA,IAAMvB,EAAoBf,EAAgBmB,QAAQoB,OAAOrD,SAAE4B,GAExL,CAEA,SAAS0B,IACP,OACErD,EAAAA,EAAAA,KAAA,YAAU8C,IAAKhC,EAAYiC,UAAU,oBAAoBC,YAAaC,EAAAA,EAAM9B,GAAamC,aAAcH,OAAQA,IAAMrB,EAAgBhB,EAAWkB,QAAQoB,OAAOrD,SAAE8B,GAErK,CAEA,OACE7B,EAAAA,EAAAA,KAAA,QAAM8C,IAAKvC,EAAgBwC,UAAU,mBAAmBQ,QArG1D,WACEhD,EAAeyB,QAAQC,UAAUU,OAAO,4BACxClC,EAAQuB,QAAQC,UAAUU,OAAO,oBACjCR,SAASC,cAAc,QAAQC,MAAMC,SAAW,OAChDb,GAAS+B,EAAAA,EAAAA,KAAmB,GAC9B,EAgGyFzD,UACrFP,EAAAA,EAAAA,MAAA,OAAKsD,IAAKrC,EAASsC,UAAU,WAAWQ,QAAUE,GAAMA,EAAEC,kBAAkB3D,SAAA,EAC1EP,EAAAA,EAAAA,MAAA,OAAKuD,UAAU,8BAA8BD,IAAK/B,EAAqBhB,SAAA,EACrEC,EAAAA,EAAAA,KAAA,OAAK+C,UAAU,sBAAqBhD,UAClCC,EAAAA,EAAAA,KAACT,EAAO,OAEVS,EAAAA,EAAAA,KAAA,QAAM+C,UAAU,uBAAsBhD,SAAEkD,EAAAA,EAAM9B,GAAawC,YAC3D3D,EAAAA,EAAAA,KAAA,SAAO+C,UAAU,wBAAwBa,KAAK,OAAOd,IAAKpC,EAAWmD,OAAO,mCAAmCC,SAAWL,GAnGlI,SAA4BA,GAC1B,MAAMM,EAAON,EAAEO,OAAOC,MAAM,GAC5B,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAUX,IACf1C,EAAqBiB,QAAQK,MAAMgC,gBAAe,OAAAC,OAAUb,EAAEO,OAAOO,OAAM,KAC3E3B,EAAea,EAAEO,OAAOO,OAExB,IAAK,IAAI9B,EAAI,EAAGA,GAAK1B,EAAqBiB,QAAQjC,SAAS2C,OAAQD,IACjE,IACE1B,EAAqBiB,QAAQjC,SAAS0C,GAAGJ,MAAMmC,QAAU,MAC3D,CAAE,MAAO,CAEXzD,EAAqBiB,QAAQK,MAAMoC,cAAgB,MAAM,EAG3DP,EAAOQ,cAAcX,EACvB,CAmFwIY,CAAmBlB,SAErJjE,EAAAA,EAAAA,MAAA,OAAKuD,UAAU,iBAAgBhD,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,SAAO8C,IAAKnC,EAAUiD,KAAK,QAAQb,UAAU,iBAAiBC,YAAaC,EAAAA,EAAM9B,GAAayD,cAC9F5E,EAAAA,EAAAA,KAAA,YAAU8C,IAAKlC,EAAiBmC,UAAU,wBAAwBC,YAAaC,EAAAA,EAAM9B,GAAa0D,wBAEpGrF,EAAAA,EAAAA,MAAA,OAAKuD,UAAU,iBAAgBhD,SAAA,EAC7BP,EAAAA,EAAAA,MAAA,OAAKuD,UAAU,gBAAgBQ,QAASA,IAAMtC,EAAc,GAAGlB,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,OAAAD,SAAMkD,EAAAA,EAAM9B,GAAa2D,eACzB9E,EAAAA,EAAAA,KAAA,OAAK+C,UAAU,2BAEjBvD,EAAAA,EAAAA,MAAA,OAAKuD,UAAU,gBAAgBQ,QAASA,IAAMtC,EAAc,GAAGlB,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,OAAAD,SAAMkD,EAAAA,EAAM9B,GAAa4D,UACzB/E,EAAAA,EAAAA,KAAA,OAAK+C,UAAU,8BAGnB/C,EAAAA,EAAAA,KAAA,OAAK+C,UAAU,4BAA2BhD,SAExB,GAAdiB,GAAmBhB,EAAAA,EAAAA,KAAC6C,EAAW,KAC5B7C,EAAAA,EAAAA,KAACqD,EAAM,OAGdrD,EAAAA,EAAAA,KAAA,OAAK+C,UAAU,2BAA0BhD,UACvCC,EAAAA,EAAAA,KAAA,UAAQ4D,KAAK,SAASb,UAAU,mBAAmBQ,QAvG3D,WAEE,IAAIyB,EAAcC,EAAqBC,EAAiBC,EAKnDH,EAHArE,EAASqB,QAAQoB,MAGFzC,EAASqB,QAAQoB,MAFpBzC,EAASqB,QAAQgB,YAO7BiC,EAHArE,EAAgBoB,QAAQoB,MAGFxC,EAAgBoB,QAAQoB,MAF3BxC,EAAgBoB,QAAQgB,YAO3CkC,EAHAvD,GACesB,EAAAA,EAAM9B,GAAa+B,kBAOlCiC,EAHAtD,GACUoB,EAAAA,EAAM9B,GAAamC,aAIlC,MAAM8B,EAAe,CACnBC,MAAMC,EAAAA,EAAAA,MACN1C,aAAcA,EACd2C,KAAMP,EACNQ,YAAaP,EACbQ,OAAQ,IACRX,YAAaI,EAAgBQ,MAAM,MACnCC,OAAQR,GAGV1D,GAASmE,EAAAA,EAAAA,IAAeR,IAGxBrE,EAAqBiB,QAAQK,MAAMgC,gBAAe,OAClD,IAAK,IAAI5B,EAAI,EAAGA,GAAK1B,EAAqBiB,QAAQjC,SAAS2C,OAAQD,IACjE,IACE1B,EAAqBiB,QAAQjC,SAAS0C,GAAGJ,MAAMmC,QAAU,OAC3D,CAAE,MAAO,CAEXzD,EAAqBiB,QAAQK,MAAMoC,cAAgB,OAGnDlE,EAAeyB,QAAQC,UAAUU,OAAO,4BACxClC,EAAQuB,QAAQC,UAAUU,OAAO,oBACjCR,SAASC,cAAc,QAAQC,MAAMC,SAAW,OAEhD/B,EAAeyB,QAAQ6D,QACvBjE,EAAoB,MACpBE,EAAgB,MAChBb,EAAc,GAEdQ,GAAS+B,EAAAA,EAAAA,KAAmB,GAE9B,EA8CgFzD,SAAGkD,EAAAA,EAAM9B,GAAa2E,aAKxG,C","sources":["assets/NoPhoto.jsx","components/AddPost.js"],"sourcesContent":["import React from \"react\"; \n\nconst NoPhoto = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width={24} height={24} color={\"#000000\"} fill={\"none\"}>\n    <path d=\"M6 17.9745C6.1287 19.2829 6.41956 20.1636 7.07691 20.8209C8.25596 22 10.1536 22 13.9489 22C17.7442 22 19.6419 22 20.8209 20.8209C22 19.6419 22 17.7442 22 13.9489C22 10.1536 22 8.25596 20.8209 7.07691C20.1636 6.41956 19.2829 6.1287 17.9745 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n    <path d=\"M2 10C2 6.22876 2 4.34315 3.17157 3.17157C4.34315 2 6.22876 2 10 2C13.7712 2 15.6569 2 16.8284 3.17157C18 4.34315 18 6.22876 18 10C18 13.7712 18 15.6569 16.8284 16.8284C15.6569 18 13.7712 18 10 18C6.22876 18 4.34315 18 3.17157 16.8284C2 15.6569 2 13.7712 2 10Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n    <path d=\"M2 11.1185C2.61902 11.0398 3.24484 11.001 3.87171 11.0023C6.52365 10.9533 9.11064 11.6763 11.1711 13.0424C13.082 14.3094 14.4247 16.053 15 18\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinejoin=\"round\" />\n    <path d=\"M12.9998 7H13.0088\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n  </svg>\n);\n\nexport default NoPhoto;","import { useEffect } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { changeAddPostState } from \"../store/slices\"\r\nimport { useRef } from \"react\"\r\nimport { useState } from \"react\"\r\nimport { texts } from \"../assets/texts\"\r\nimport NoPhoto from \"../assets/NoPhoto\"\r\nimport { addFavoritPost } from \"../store/slices\"\r\nimport { nanoid } from \"@reduxjs/toolkit\"\r\n\r\nexport default function AddPost() {\r\n\r\n  const addPostWrapper = useRef(null)\r\n  const addPost = useRef(null)\r\n\r\n  const postImage = useRef(null)\r\n  const postName = useRef(null)\r\n  const postDescription = useRef(null)\r\n  const postIngredients = useRef(null)\r\n  const postRecipe = useRef(null)\r\n  const postImagePlaceholder = useRef(null)\r\n\r\n  let [currentTab, setCurrentTab] = useState(0)\r\n  const currentLang = useSelector(state => state.lang)\r\n\r\n\r\n  const isActive = useSelector(state => state.addPostActive)\r\n  const dispatch = useDispatch()\r\n\r\n  const [ingredientsValue, setIngredientsValue] = useState(null)\r\n  const [recipesValue, setRecipesValue] = useState(null)\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    if (isActive) {\r\n      addPostWrapper.current.classList.add('add-post-wrapper--active')\r\n      addPost.current.classList.add('add-post--active')\r\n      document.querySelector('body').style.overflow = 'hidden'\r\n      const tabs = document.querySelectorAll('.add-post__tab-line')\r\n      for (let i = 0; i <= tabs.length; i++) {\r\n        try {\r\n          tabs[i].classList.remove('add-post__tab-line--current')\r\n        } catch { }\r\n      }\r\n      tabs[currentTab].classList.add('add-post__tab-line--current')\r\n    }\r\n\r\n  })\r\n\r\n  function addPostWrapperHandler() {\r\n    addPostWrapper.current.classList.remove('add-post-wrapper--active')\r\n    addPost.current.classList.remove('add-post--active')\r\n    document.querySelector('body').style.overflow = 'auto'\r\n    dispatch(changeAddPostState(false))\r\n  }\r\n\r\n\r\n  let postImageUrl = 'placeholgers/food0.jpg'\r\n  function inputChangeHandler(e) {\r\n    const file = e.target.files[0]\r\n    let reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      postImagePlaceholder.current.style.backgroundImage = `url(${e.target.result})`\r\n      postImageUrl = e.target.result\r\n      \r\n      for (let i = 0; i <= postImagePlaceholder.current.children.length; i++) {\r\n        try {\r\n          postImagePlaceholder.current.children[i].style.display = 'none'\r\n        } catch {}\r\n      }\r\n      postImagePlaceholder.current.style.pointerEvents = 'none'\r\n    }\r\n\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n\r\n  function saveHandler() {\r\n\r\n    let postNameText, postDescriptionText, ingredientsText, recipeText\r\n\r\n    if (!postName.current.value) {\r\n      postNameText = postName.current.placeholder\r\n    }\r\n    else postNameText = postName.current.value\r\n\r\n    if (!postDescription.current.value) {\r\n      postDescriptionText = postDescription.current.placeholder\r\n    }\r\n    else postDescriptionText = postDescription.current.value\r\n\r\n    if (!ingredientsValue) {\r\n      ingredientsText = texts[currentLang].recipeIngredients\r\n    }\r\n    else ingredientsText = ingredientsValue\r\n\r\n    if (!recipesValue) {\r\n      recipeText = texts[currentLang].recipeRecipe\r\n    }\r\n    else recipeText = recipesValue\r\n\r\n    const resultObject = {\r\n      uuid: nanoid(),\r\n      postImageUrl: postImageUrl,\r\n      name: postNameText,\r\n      description: postDescriptionText,\r\n      author: 'I',\r\n      ingredients: ingredientsText.split(/\\n/),\r\n      method: recipeText,\r\n    }\r\n\r\n    dispatch(addFavoritPost(resultObject))\r\n\r\n\r\n    postImagePlaceholder.current.style.backgroundImage = `none`\r\n    for (let i = 0; i <= postImagePlaceholder.current.children.length; i++) {\r\n      try {\r\n        postImagePlaceholder.current.children[i].style.display = 'block'\r\n      } catch {}\r\n    }\r\n    postImagePlaceholder.current.style.pointerEvents = 'auto'\r\n\r\n\r\n    addPostWrapper.current.classList.remove('add-post-wrapper--active')\r\n    addPost.current.classList.remove('add-post--active')\r\n    document.querySelector('body').style.overflow = 'auto'\r\n\r\n    addPostWrapper.current.reset()\r\n    setIngredientsValue(null)\r\n    setRecipesValue(null)\r\n    setCurrentTab(0)\r\n\r\n    dispatch(changeAddPostState(false))\r\n\r\n  }\r\n\r\n  function Ingredients() {\r\n\r\n    return (\r\n      <textarea ref={postIngredients} className=\"add-post__content\" placeholder={texts[currentLang].recipeIngredients} onBlur={() => setIngredientsValue(postIngredients.current.value)}>{ingredientsValue}</textarea>\r\n    )\r\n  }\r\n\r\n  function Recipe() {\r\n    return (\r\n      <textarea ref={postRecipe} className=\"add-post__content\" placeholder={texts[currentLang].recipeRecipe} onBlur={() => setRecipesValue(postRecipe.current.value)}>{recipesValue}</textarea>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <form ref={addPostWrapper} className=\"add-post-wrapper\" onClick={addPostWrapperHandler}>\r\n      <div ref={addPost} className=\"add-post\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"add-post__image-placeholger\" ref={postImagePlaceholder}>\r\n          <div className=\"add-post__image-svg\">\r\n            <NoPhoto />\r\n          </div>\r\n          <span className=\"add-post__image-text\">{texts[currentLang].addPhoto}</span>\r\n          <input className=\"add-post__image-input\" type=\"file\" ref={postImage} accept=\"image/jpeg, image/jpg, image/png\" onChange={(e) => inputChangeHandler(e)} />\r\n        </div>\r\n        <div className=\"add-post__info\">\r\n          <input ref={postName} type=\"input\" className=\"add-post__name\" placeholder={texts[currentLang].recipeName} />\r\n          <textarea ref={postDescription} className=\"add-post__description\" placeholder={texts[currentLang].recipeDescription}></textarea>\r\n        </div>\r\n        <div className=\"add-post__tabs\">\r\n          <div className=\"add-post__tab\" onClick={() => setCurrentTab(0)}>\r\n            <div>{texts[currentLang].ingredients}</div>\r\n            <div className=\"add-post__tab-line\"></div>\r\n          </div>\r\n          <div className=\"add-post__tab\" onClick={() => setCurrentTab(1)}>\r\n            <div>{texts[currentLang].recipe}</div>\r\n            <div className=\"add-post__tab-line\"></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"add-post__content-wrapper\">\r\n          {\r\n            currentTab == 0 ? (<Ingredients />) :\r\n              (<Recipe />)\r\n          }\r\n        </div>\r\n        <div className=\"add-post__button-section\">\r\n          <button type=\"button\" className=\"add-post__button\" onClick={saveHandler} >{texts[currentLang].save}</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}"],"names":["NoPhoto","_jsxs","xmlns","viewBox","width","height","color","fill","children","_jsx","d","stroke","strokeWidth","strokeLinejoin","strokeLinecap","AddPost","addPostWrapper","useRef","addPost","postImage","postName","postDescription","postIngredients","postRecipe","postImagePlaceholder","currentTab","setCurrentTab","useState","currentLang","useSelector","state","lang","isActive","addPostActive","dispatch","useDispatch","ingredientsValue","setIngredientsValue","recipesValue","setRecipesValue","useEffect","current","classList","add","document","querySelector","style","overflow","tabs","querySelectorAll","i","length","remove","postImageUrl","Ingredients","ref","className","placeholder","texts","recipeIngredients","onBlur","value","Recipe","recipeRecipe","onClick","changeAddPostState","e","stopPropagation","addPhoto","type","accept","onChange","file","target","files","reader","FileReader","onload","backgroundImage","concat","result","display","pointerEvents","readAsDataURL","inputChangeHandler","recipeName","recipeDescription","ingredients","recipe","postNameText","postDescriptionText","ingredientsText","recipeText","resultObject","uuid","nanoid","name","description","author","split","method","addFavoritPost","reset","save"],"sourceRoot":""}